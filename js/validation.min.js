document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("dropdown"),t=document.getElementById("submit"),n=document.querySelector(".labels"),o=document.getElementById("oidoIzquierdo"),d=document.getElementById("oidoDerecho"),i=document.getElementById("sordera"),r=document.getElementById("telefono"),c=document.getElementById("file-input");function l(){"-"===i.value.trim()?(o.disabled=!0,d.disabled=!0,o.style.opacity="0.5",d.style.opacity="0.5"):(o.disabled=!1,d.disabled=!1,o.style.opacity="1",d.style.opacity="1")}r.addEventListener("input",(function(){this.value=this.value.replace(/\D/g,""),function(){const e=document.getElementById("telefono-error");""===r.value.trim()?e.textContent="Teléfono es obligatorio.":e.textContent=""}()})),window.innerWidth<=767&&e.addEventListener("click",(function(){n.classList.add("show"),e.style.display="none",t.style.display="block"})),l(),i.addEventListener("change",l),document.getElementById("credencial").addEventListener("input",(function(){const e=document.getElementById("credencial-error");""===this.value.trim()?e.textContent="Número de Credencial es obligatorio.":e.textContent=""})),document.getElementById("nombre").addEventListener("input",(function(){const e=document.getElementById("nombre-error");""===this.value.trim()?e.textContent="Nombre(s) es obligatorio.":e.textContent=""})),document.getElementById("apellido").addEventListener("input",(function(){const e=document.getElementById("apellido-error");""===this.value.trim()?e.textContent="Apellidos son obligatorios.":e.textContent=""})),document.getElementById("nacimiento").addEventListener("input",(function(){const e=document.getElementById("nacimiento-error");""===this.value.trim()?e.textContent="Fecha de Nacimiento es obligatoria.":e.textContent=""})),document.getElementById("email").addEventListener("input",(function(){const e=document.getElementById("email-error");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value.trim())?e.textContent="":e.textContent="Email no es válido."})),document.getElementById("estado").addEventListener("change",(function(){const e=document.getElementById("estado-error");"Seleccionar ciudad:"===this.value.trim()?e.textContent="Estado es obligatorio.":e.textContent=""})),i.addEventListener("change",(function(){const e=document.getElementById("sordera-error");"-"===this.value.trim()?e.textContent="Tipo de Sordera es obligatorio.":e.textContent=""})),o.addEventListener("input",(function(){const e=document.getElementById("oidoIzquierdo-error");!o.disabled&&(""===this.value.trim()||this.value<0||this.value>100)?e.textContent="Porcentaje de Oído Izquierdo debe ser entre 0 y 100.":e.textContent=""})),d.addEventListener("input",(function(){const e=document.getElementById("oidoDerecho-error");!d.disabled&&(""===this.value.trim()||this.value<0||this.value>100)?e.textContent="Porcentaje de Oído Derecho debe ser entre 0 y 100.":e.textContent=""})),document.getElementById("privacidad").addEventListener("change",(function(){const e=document.getElementById("privacidad-error");this.checked?e.textContent="":e.textContent="Debe aceptar el Aviso de privacidad."})),document.getElementById("terminos").addEventListener("change",(function(){const e=document.getElementById("terminos-error");this.checked?e.textContent="":e.textContent="Debe aceptar los Términos y Condiciones."})),c.addEventListener("change",(function(){const e=document.getElementById("upload-error");0===c.files.length?e.textContent="Debes subir una foto de tu credencial.":e.textContent=""})),document.querySelector("form").addEventListener("submit",(function(e){if(function(){let e=!0;const t=document.getElementById("credencial"),n=document.getElementById("credencial-error");""===t.value.trim()?(n.textContent="Número de Credencial es obligatorio.",e=!1):n.textContent="";const o=document.getElementById("nombre"),d=document.getElementById("nombre-error");""===o.value.trim()?(d.textContent="Nombre(s) es obligatorio.",e=!1):d.textContent="";const i=document.getElementById("apellido"),r=document.getElementById("apellido-error");""===i.value.trim()?(r.textContent="Apellidos son obligatorios.",e=!1):r.textContent="";const c=document.getElementById("nacimiento"),l=document.getElementById("nacimiento-error");""===c.value.trim()?(l.textContent="Fecha de Nacimiento es obligatoria.",e=!1):l.textContent="";const a=document.getElementById("email"),m=document.getElementById("email-error");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value.trim())?m.textContent="":(m.textContent="Email no es válido.",e=!1);const s=document.getElementById("estado"),u=document.getElementById("estado-error");"Seleccionar ciudad:"===s.value.trim()?(u.textContent="Estado es obligatorio.",e=!1):u.textContent="";const g=document.getElementById("sordera"),E=document.getElementById("sordera-error");"-"===g.value.trim()?(E.textContent="Tipo de Sordera es obligatorio.",e=!1):E.textContent="";const y=document.getElementById("oidoIzquierdo"),v=document.getElementById("oidoIzquierdo-error");!y.disabled&&(""===y.value.trim()||y.value<0||y.value>100)?(v.textContent="Porcentaje de Oído Izquierdo debe ser entre 0 y 100.",e=!1):v.textContent="";const I=document.getElementById("oidoDerecho"),C=document.getElementById("oidoDerecho-error");!I.disabled&&(""===I.value.trim()||I.value<0||I.value>100)?(C.textContent="Porcentaje de Oído Derecho debe ser entre 0 y 100.",e=!1):C.textContent="";const B=document.getElementById("privacidad"),x=document.getElementById("privacidad-error");B.checked?x.textContent="":(x.textContent="Debe aceptar el Aviso de privacidad.",e=!1);const b=document.getElementById("terminos"),h=document.getElementById("terminos-error");b.checked?h.textContent="":(h.textContent="Debe aceptar los Términos y Condiciones.",e=!1);const p=document.getElementById("file-input"),f=document.getElementById("upload-error");return 0===p.files.length?(f.textContent="Debes subir una foto de tu credencial.",e=!1):f.textContent="",e}()){e.preventDefault();new bootstrap.Modal(document.getElementById("formModal")).show(),document.querySelector("form").reset(),l(),c.value=""}else e.preventDefault()}))})),document.getElementById("file-input").addEventListener("change",(function(e){var t=e.target.files[0]?e.target.files[0].name:"Sube una foto de tu credencial.";document.getElementById("nombreArchivo").textContent=t}));