document.addEventListener("DOMContentLoaded", () => {
   
    const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
    const year = 2025;
    const month = 7; 
    const allowedDays = [14, 21, 28];
  
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const startWeekDay = (firstDay.getDay() + 6) % 7; 
  
    const calendarTitle = document.getElementById("calendar-title");
    calendarTitle.textContent = monthNames[month] + " " + year;
  
    const calendarGrid = document.getElementById("calendar-grid");
  
    for (let i = 0; i < startWeekDay; i++) {
      const empty = document.createElement("div");
      calendarGrid.appendChild(empty);
    }
  
    for (let d = 1; d <= lastDay.getDate(); d++) {
      const date = new Date(year, month, d);
      const weekDay = date.getDay();
  
      const dayElement = document.createElement("div");
      dayElement.classList.add("day");
      dayElement.textContent = d;
  
      const isAllowed = allowedDays.includes(d);
  
      if (isAllowed) {
        dayElement.classList.add("selectable");
        dayElement.classList.add("gold");
  
        dayElement.addEventListener("click", () => {
          document.querySelectorAll("#calendar-grid .day.selectable").forEach(el => el.classList.remove("active"));
          dayElement.classList.add("active");
         
        });
      } else {
        dayElement.classList.add("disabled");
      }
  
      calendarGrid.appendChild(dayElement);
    }
  
    
    const nextBtn = document.getElementById("btn-next");
  
    nextBtn.addEventListener("click", (e) => {
      const activeStep = document.querySelector(".step-content.step-2.active");
      if (!activeStep) return;
  
      const inputs = activeStep.querySelectorAll("input[type='text'], input[type='email'], input[type='tel'], input[type='number']");
      const radios = activeStep.querySelectorAll("input[type='radio']");
      let valid = true;
  
      
      inputs.forEach(input => {
        const errorEl = input.parentElement.querySelector(".error");
        if (input.value.trim() === "") {
          if (errorEl) errorEl.classList.add("active");
          valid = false;
        } else {
          if (errorEl) errorEl.classList.remove("active");
        }
      });
  
      
      const radioGroups = [];
      radios.forEach(radio => {
        if (!radioGroups.includes(radio.name)) {
          radioGroups.push(radio.name);
        }
      });
  
      radioGroups.forEach(name => {
        const checked = activeStep.querySelector("input[name='" + name + "']:checked");
        const groupInput = activeStep.querySelector("input[name='" + name + "']");
        const groupEl = groupInput ? groupInput.closest(".input") : null;
        const errorEl = groupEl ? groupEl.querySelector(".error") : null;
  
        if (!checked) {
          if (errorEl) errorEl.classList.add("active");
          valid = false;
        } else {
          if (errorEl) errorEl.classList.remove("active");
        }
      });
  
     
      if (!valid) {
        e.preventDefault();
      }
    });
  });
  